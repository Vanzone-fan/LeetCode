# palindrome-number 2024-07-13

**最原始的代码**

```javascript
/*
 * @lc app=leetcode id=9 lang=javascript
 *
 * [9] Palindrome Number
 */

// @lc code=start
/**
 * @param {number} x
 * @return {boolean}
 */
var isPalindrome = function(x) {
    var numStr = x.toString();
    var len = numStr.length;
    for(var i = 0;i<len/2;i++){
        if(numStr[i]!=numStr[len-1-i]){
            return false;
        }
    }
    return true;
};
// @lc code=end
```

**代码评估**
一次通过，时间复杂度在O(n),但进行了数字转为字符串的操作，占内存

**改进代码**

```javascript
/*
 * @lc app=leetcode id=9 lang=javascript
 *
 * [9] Palindrome Number
 */

// @lc code=start
/**
 * @param {number} x
 * @return {boolean}
 */
var isPalindrome = function(x) {
    // 负数和以0结尾且不为0的数字不是回文数
    if (x < 0 || (x % 10 === 0 && x !== 0)) {
        return false;
    }

    var reversed = 0;
    var original = x;

    while (x > 0) {
        reversed = reversed * 10 + x % 10;
        x = Math.floor(x / 10);
    }

    return original === reversed;
};
// @lc code=end
```

**优化思路**

- 负数和以0结尾的数（除了0本身）不可能是回文数：可以立即返回 false，减少不必要的计算。
- 使用数字反转而不是字符串转换：直接操作数字避免了将数字转换为字符串，减少了内存使用和额外的时间复杂度。
- 这个优化版本在保持逻辑完整性的同时，提高了代码的效率和简洁性。
