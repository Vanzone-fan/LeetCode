# 2024-07-18

**最原始的代码**

```javascript
/*
 * @lc app=leetcode id=67 lang=javascript
 *
 * [67] Add Binary
 */

// @lc code=start
/**
 * @param {string} a
 * @param {string} b
 * @return {string}
 */
var addBinary = function (a, b) {
	return (parseInt(a, 2) + parseInt(b, 2)).toString(2);
};
// @lc code=end
addBinary(11, 1);
console.log('🚀 ~ addBinary(11,1):', addBinary(11, 1));
addBinary(1010, 1011);
console.log('🚀 ~ addBinary(1010,1011):', addBinary(1010, 1011));
```

数据过大会越界

**修改代码**

```javascript
/*
 * @lc app=leetcode id=67 lang=javascript
 *
 * [67] Add Binary
 */

// @lc code=start
/**
 * @param {string} a
 * @param {string} b
 * @return {string}
 */
var addBinary = function (a, b) {
	return (BigInt(parseInt(a, 2)) + BigInt(parseInt(b, 2))).toString(2);
};
// @lc code=end
addBinary(11, 1);
console.log('🚀 ~ addBinary(11,1):', addBinary(11, 1));
addBinary(1010, 1011);
console.log('🚀 ~ addBinary(1010,1011):', addBinary(1010, 1011));
```

**代码评估**
就算用了 BigInt 依然没有解决问题，是因为在 parseInt 阶段转化数字就已经越界了，转化出来的数字是错的，再进行 BigInt 操作不仅不能转化成功并且成了多余的一步

**参考代码**

```javascript
/*
 * @lc app=leetcode id=67 lang=javascript
 *
 * [67] Add Binary
 */

// @lc code=start
/**
 * @param {string} a
 * @param {string} b
 * @return {string}
 */
var addBinary = function (a, b) {
	// 使用 BigInt 直接解析二进制字符串
	const num1 = BigInt('0b' + a);
	const num2 = BigInt('0b' + b);
	const sum = num1 + num2;
	return sum.toString(2);
};
// @lc code=end

// 调用示例
console.log("🚀 ~ addBinary('11', '1'):", addBinary('11', '1')); // 输出: "100"
console.log("🚀 ~ addBinary('1010', '1011'):", addBinary('1010', '1011')); // 输出: "10101"

// 大数字测试
console.log("🚀 ~ addBinary('1111111111111111111111111111111', '1'):", addBinary('1111111111111111111111111111111', '1')); // 输出: "10000000000000000000000000000000"
```

**自调代码**

```javascript
/*
 * @lc app=leetcode id=67 lang=javascript
 *
 * [67] Add Binary
 */

// @lc code=start
/**
 * @param {string} a
 * @param {string} b
 * @return {string}
 */
var addBinary = function (a, b) {
	return (BigInt(`0b${a}`) + BigInt(`0b${b}`)).toString(2);
};
// @lc code=end
```

**代码评估**

-   66 是字符串数组转 BigInt 所以直接用就 ok
-   67 是 string 转 int 后的数据转 bigInt 中间转化可能出问题
-   共性思想 要转为 BigInt 就直接去转 不要做多余的操作 想清楚参数要不要写 就决定了转化结果
-   参数写法可以是 string+string 也可以是模版字符串写法

# 2024-09-21 二刷

```js
const addBinary = (a, b) => {
	return (BigInt('0b' + a) + BigInt('0b' + b)).toString(2);
};
```

这一次写又整成了 parseInt！Fail！
